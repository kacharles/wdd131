<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Courses and Sections</title>
    <script>
        alert("Testing...");
        const aCourse = { 
            code: "CSE121b",
            name: "Javascript Language",
            sections: [
                {
                    sectionNum: 1, 
                    roomNum: 'STC 353',
                    enrolled: 26, 
                    days: 'TTh',
                    instructor: 'Bro. A'
                },
                { 
                    sectionNum: 2, 
                    roomNum: 'STC 347',
                    enrolled: 28, 
                    days: 'TTh',
                    instructor: 'Sis. B'
                }
            ],
            enrolledStudent: function(sectionNum) { 
                const sectionIndex = this.sections.findIndex((section) => 
                section.sectionNum == sectionNum);
                if (sectionIndex >= 0)  {
                    this.sections[sectionI]
                }
            },
            droppedStudent: function(sectionNum)  {
                const sectionIndex = this.sections.findIndex(
                    (section) => section.sectionNum == sectionNum
                );
                if (sectionIndex => 0)  {
                    this.sections[sectionIndex].enrolled--;
                    renderSections(this.sectioins);
                }
            },
        
            changeEnrollment: function(sectionNum, add = true) { 
                const sectionIndex = this.sections.findIndex(
                    (section) => section.sectionNum == sectionNum
                );
                if(sectionIndex >= 0) { 
                    if(add) {
                        this.sections[sectionIndex].enrolled++;
                    }
                    else { 
                        tihs.sections[sectionIndex].enrolled--;
                    }
                };
            }
        }; 
        function setCousreInfo(course) { 
            const courseName = documen.querySelector("#courseName"); 
            const courseNum = document.querySelector("#courseNum"); 
            courseName.textContent = course.name; 
            courseNumber.textContent = course.code;
        }
        function sectionTemplate(section) { 
            return `<tr>
                    <td>${section.sectionNum}</td>
                    <td>${section.roomNum}</td>
                    <td>${section.enrolled}</td>
                    <td>${section.instructor}</td>
                </tr>`;
        }
        function renderSections(sections) { 
            const html = sections.map(sectionTemplate);
            document.querySelector("#sections").innerHTML = html.join(" ");
        }
        document.querySelector("#enrollStudent").addEventListener("click", function() { 
            const sectionNum = document.querySelector("#sectionNumber").value;
            aCourse.droppedStudent(sectionNum);
        })
        setCourseInfo(aCourse);
        renderSections(aCourse.sections);
    </script>
</head>
<header>
    <h1>Courses and Section</h1>
</header>

<h1 id="courseName"></h1>
<h2 id="courseCode"></h2>
<label for="sectionNumber"></label><input type="text" id="sectionNumber">
<button id="enrolledStudent">Enroll Student</button>
<button id="dropStudent">Drop Student</button>
<table>
    <thead>
        <tr>
            <th>Section#</th>
            <th>Room#</th>
            <th>#Enrolled</th>
            <th>Days</th>
            <th>Instructor</th>
        </tr>
    </thead>
    <tbody id="sections">
    </tbody>
</table>

<body>
    
</body>
</html>